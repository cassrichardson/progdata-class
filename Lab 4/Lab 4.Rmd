---
title: "Lab 4"
author: "Cassandra Richardson"
date: "2/15/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(ggplot2)
library(dplyr)
library(gapminder)

dictionary <- readr::read_csv(here::here("data", "green_dictionary.csv"))
green_data <- readr::read_csv(here::here("data", "green_data.csv")) 
```

# 1. Inspect the item responses (e.g., with graphs or by summarizing distinct values). Is there anything unusual?

```{r examining data}
View(green_data)
View(dictionary)
```

## Through looking at the scales in the dictionary, I realized that some of the variables are coded as -1, meaning that they will need to be reverse-coded before conducting analyses. 

``` {r reverse coding}
reversed <- c("green2", "comp6", "comp7", "comp8", "comp9", "comp10", "intel7", "intel8", "intel9", "intel10", "open7", "open8", "open9", "open10")

green_data_r <- green_data |>
  mutate_all(na_if, -99)
  
green_data_r |>
  mutate(across(
    all_of(reversed),
    \(x) recode(x, "5" = 1, "4" = 2, "3" = 3, "2" = 4, "1" = 5, "-99" = NA_real_))) 

reversed_item <- \(x){recode(x, "1" = 5, "2" = 4, "3" = 3, "4" = 2, "5" = 1)}

reversed_item(1:5)

View(green_data_r)
```

# 2. Compute total scores for the four scales. 

``` {r scale scores}
summary(green_data)

green_total <- data.frame(var1=c(2:6))
comp_total<- data.frame(var2=c(7:16))
intel_total <- data.frame(var3=c(17:26))
open_total <- data.frame(var4=c(27:36))

colMeans(green_total, na.rm = T)
colMeans(comp_total, na.rm = T)
colMeans(intel_total, na.rm = T)
colMeans(open_total, na.rm = T)
```
# 3. Rescale variables to be 0-100 instead of original scales. Name these variables *_pomp

```{r rescale}

```

```{r plots}


```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
